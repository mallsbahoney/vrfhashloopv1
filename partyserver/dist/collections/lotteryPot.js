// Generated by TaroBase SDK Generator: 2026-02-27T07:56:22.610Z
// Collection: lotteryPot/$potId
// Edits may be overwritten by subsequent runs!
import { get, set, subscribe, runQuery, transformValues, formatError, } from '../db-client';
/**
 * Build a LotteryPot operation for use with setMany.
 * @returns A DocumentOperation that can be passed to setMany.
 */
export function buildLotteryPot(potId, data) {
    const doc = data ? transformValues(data) : {};
    return { path: `lotteryPot/${potId}`, document: doc };
}
/**
 * Admin creates the lottery pot PDA once. The potId must match @constants.POT_ID. Creates the on-chain PDA account that holds SOL for prize payouts. (Create/Update Single Item)
 * @returns A boolean indicating whether the operation succeeded (true) or failed (false). Always check this value to confirm the write worked.
 */
export async function setLotteryPot(potId, data) {
    try {
        const transformedData = transformValues(data || {});
        const succeeded = await set(`lotteryPot/${potId}`, transformedData);
        return !!succeeded;
    }
    catch (error) {
        console.error(`Error setting LotteryPot: ${formatError(error)}`);
        return false;
    }
}
/**
 *
  Read Operation Details: Anyone can check the prize pot balance and status.
   (Get Single Item)
 */
export async function getLotteryPot(potId) {
    try {
        const result = await get(`lotteryPot/${potId}`);
        return result;
    }
    catch (error) {
        console.error(`Error getting LotteryPot: ${formatError(error)}`);
        return null;
    }
}
/**
 * Subscribes to changes in a single LotteryPot document. (
  Read Operation Details: Anyone can check the prize pot balance and status.
  )
 */
export function subscribeLotteryPot(callback, potId) {
    return subscribe(`lotteryPot/${potId}`, {
        onData: (data) => {
            callback(data);
        },
        onError: (error) => {
            console.error(`Error subscribing to LotteryPot at path '${`lotteryPot/${potId}`}': ${formatError(error)}`);
        }
    });
}
/**
 * Get many LotteryPot items from collection lotteryPot
 
  Read Operation Details: Anyone can check the prize pot balance and status.
  
 */
export async function getManyLotteryPot(filter = "") {
    try {
        const results = await get("lotteryPot", { prompt: filter });
        return Array.isArray(results) ? results : [];
    }
    catch (error) {
        console.error(`Error getting LotteryPot collection at path 'lotteryPot': ${formatError(error)}`);
        return [];
    }
}
/**
 * Subscribe to changes in LotteryPot collection at lotteryPot
 
  Read Operation Details: Anyone can check the prize pot balance and status.
  
 */
export function subscribeManyLotteryPot(callback, filter = "") {
    return subscribe("lotteryPot", {
        prompt: filter,
        onData: (data) => {
            callback(Array.isArray(data) ? data : []);
        },
        onError: (error) => {
            console.error(`Error subscribing to LotteryPot collection at path '${"lotteryPot"}': ${formatError(error)}`);
        }
    });
}
/**
 * Get all LotteryPot items from collection lotteryPot
 
  Read Operation Details: Anyone can check the prize pot balance and status.
  
 */
export async function getAllLotteryPot(filter = "") {
    try {
        const results = await get("lotteryPot", { prompt: filter });
        return Array.isArray(results) ? results : [];
    }
    catch (error) {
        console.error(`Error getting LotteryPot collection at path 'lotteryPot': ${formatError(error)}`);
        return [];
    }
}
/**
 * Subscribe to changes in LotteryPot collection at lotteryPot
 
  Read Operation Details: Anyone can check the prize pot balance and status.
  
 */
export function subscribeAllLotteryPot(callback, filter = "") {
    return subscribe("lotteryPot", {
        prompt: filter,
        onData: (data) => {
            callback(Array.isArray(data) ? data : []);
        },
        onError: (error) => {
            console.error(`Error subscribing to LotteryPot collection at path '${"lotteryPot"}': ${formatError(error)}`);
        }
    });
}
/**
 * Runs the "getPotBalance" query on LotteryPot.
 * Query Logic: @TokenPlugin.getBalance(@constants.POT_ID, @constants.SOL)
 */
export async function runGetPotBalanceQueryForLotteryPot(potId) {
    try {
        const result = await runQuery(`lotteryPot/${potId}`, "getPotBalance", {});
        return result;
    }
    catch (error) {
        console.error(`Error running query "getPotBalance" on LotteryPot: ${formatError(error)}`);
        throw error;
    }
}
